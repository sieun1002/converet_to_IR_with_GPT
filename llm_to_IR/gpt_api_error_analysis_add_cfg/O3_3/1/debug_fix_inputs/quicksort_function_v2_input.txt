; === ERROR LOG BEGIN [llvm-as] ===
; llvm-as-14: assembly parsed, but does not verify as correct!
; Terminator found in the middle of a basic block!
; label %loc_12C0
; Terminator found in the middle of a basic block!
; label %loc_12DB
; === ERROR LOG END ===

; ModuleID = 'quick_sort'
target datalayout = "e-m:e-i64:64-f80:128-n8:16:32:64-S128"
target triple = "x86_64-pc-linux-gnu"

define dso_local void @quick_sort(i32* %base, i64 %low, i64 %high) {
loc_1220:
  %cmp0 = icmp sge i64 %low, %high
  br i1 %cmp0, label %locret_1312, label %loc_1229

loc_1229:
  br label %loc_123A

loc_123A:
  %r12_cur = phi i64 [ %low, %loc_1229 ], [ %r12_in_12B2, %loc_12B2 ]
  %r13_cur = phi i64 [ %high, %loc_1229 ], [ %r13_in_12B2, %loc_12B2 ]
  %i_init = add i64 %r12_cur, 0
  %r9_init = add i64 %r12_cur, 1
  %rbx_init = add i64 %r13_cur, 0
  %diff = sub i64 %r13_cur, %r12_cur
  %half = ashr i64 %diff, 1
  %mid = add i64 %half, %r12_cur
  %pivot_ptr = getelementptr inbounds i32, i32* %base, i64 %mid
  %pivot = load i32, i32* %pivot_ptr, align 4
  br label %loc_1260

loc_1260:
  %r12_live = phi i64 [ %r12_cur, %loc_123A ], [ %r12_db, %loc_12DB ]
  %r13_live = phi i64 [ %r13_cur, %loc_123A ], [ %r13_db, %loc_12DB ]
  %i_idx = phi i64 [ %i_init, %loc_123A ], [ %i_inc, %loc_12DB ]
  %r9_live = phi i64 [ %r9_init, %loc_123A ], [ %r9_inc, %loc_12DB ]
  %rbx_live = phi i64 [ %rbx_init, %loc_123A ], [ %rbx_db, %loc_12DB ]
  %pivot_live = phi i32 [ %pivot, %loc_123A ], [ %pivot_db, %loc_12DB ]
  %arr_i_ptr = getelementptr inbounds i32, i32* %base, i64 %i_idx
  %arr_i = load i32, i32* %arr_i_ptr, align 4
  %rcx_ptr0 = getelementptr inbounds i32, i32* %base, i64 %rbx_live
  %right_val0 = load i32, i32* %rcx_ptr0, align 4
  %cmp1 = icmp slt i32 %arr_i, %pivot_live
  br i1 %cmp1, label %loc_12DB, label %loc_1271

loc_1271:
  %cmp2 = icmp sge i32 %pivot_live, %right_val0
  br i1 %cmp2, label %loc_1291, label %loc_1275

loc_1275:
  %ptr_minus1 = getelementptr inbounds i32, i32* %rcx_ptr0, i64 -1
  %rbx_dec1 = add i64 %rbx_live, -1
  br label %loc_1280

loc_1280:
  %ptr_cur = phi i32* [ %ptr_minus1, %loc_1275 ], [ %ptr_next, %loc_1280 ]
  %rbx_cur = phi i64 [ %rbx_dec1, %loc_1275 ], [ %rbx_dec_loop, %loc_1280 ]
  %edx_val = load i32, i32* %ptr_cur, align 4
  %ptr_next = getelementptr inbounds i32, i32* %ptr_cur, i64 -1
  %rbx_dec_loop = add i64 %rbx_cur, -1
  %cmp3 = icmp sgt i32 %edx_val, %pivot_live
  br i1 %cmp3, label %loc_1280, label %loc_1291

loc_1291:
  %i_at_1291 = phi i64 [ %i_idx, %loc_1271 ], [ %i_idx, %loc_1280 ]
  %r9_at_1291 = phi i64 [ %r9_live, %loc_1271 ], [ %r9_live, %loc_1280 ]
  %r12_at_1291 = phi i64 [ %r12_live, %loc_1271 ], [ %r12_live, %loc_1280 ]
  %r13_at_1291 = phi i64 [ %r13_live, %loc_1271 ], [ %r13_live, %loc_1280 ]
  %pivot_at_1291 = phi i32 [ %pivot_live, %loc_1271 ], [ %pivot_live, %loc_1280 ]
  %arr_i_at_1291 = phi i32 [ %arr_i, %loc_1271 ], [ %arr_i, %loc_1280 ]
  %rcx_ptr_at_1291 = phi i32* [ %rcx_ptr0, %loc_1271 ], [ %ptr_cur, %loc_1280 ]
  %edx_at_1291 = phi i32 [ %right_val0, %loc_1271 ], [ %edx_val, %loc_1280 ]
  %rbx_at_1291 = phi i64 [ %rbx_live, %loc_1271 ], [ %rbx_cur, %loc_1280 ]
  %cmp_i_rbx = icmp sle i64 %i_at_1291, %rbx_at_1291
  br i1 %cmp_i_rbx, label %loc_12C0, label %loc_1299

loc_12C0:
  %rbx_after_dec = add i64 %rbx_at_1291, -1
  %arr_i_ptr2 = getelementptr inbounds i32, i32* %base, i64 %i_at_1291
  store i32 %edx_at_1291, i32* %arr_i_ptr2, align 4
  %r14_after_swap = add i64 %r9_at_1291, 0
  store i32 %arr_i_at_1291, i32* %rcx_ptr_at_1291, align 4
  %cmp_r9_gt_rbx2 = icmp sgt i64 %r9_at_1291, %rbx_after_dec
  br i1 %cmp_r9_gt_rbx2, label %loc_1299, label %loc_12DB

loc_12DB:
  %r12_db = phi i64 [ %r12_live, %loc_1260 ], [ %r12_at_1291, %loc_12C0 ]
  %r13_db = phi i64 [ %r13_live, %loc_1260 ], [ %r13_at_1291, %loc_12C0 ]
  %pivot_db = phi i32 [ %pivot_live, %loc_1260 ], [ %pivot_at_1291, %loc_12C0 ]
  %rbx_db = phi i64 [ %rbx_live, %loc_1260 ], [ %rbx_after_dec, %loc_12C0 ]
  %i_db = phi i64 [ %i_idx, %loc_1260 ], [ %i_at_1291, %loc_12C0 ]
  %r9_db = phi i64 [ %r9_live, %loc_1260 ], [ %r9_at_1291, %loc_12C0 ]
  %r9_inc = add i64 %r9_db, 1
  %i_inc = add i64 %i_db, 1
  br label %loc_1260

loc_1299:
  %r12_in_1299 = phi i64 [ %r12_at_1291, %loc_1291 ], [ %r12_at_1291, %loc_12C0 ]
  %r13_in_1299 = phi i64 [ %r13_at_1291, %loc_1291 ], [ %r13_at_1291, %loc_12C0 ]
  %rbx_in_1299 = phi i64 [ %rbx_at_1291, %loc_1291 ], [ %rbx_after_dec, %loc_12C0 ]
  %r14_in_1299 = phi i64 [ %i_at_1291, %loc_1291 ], [ %r14_after_swap, %loc_12C0 ]
  %left_len = sub i64 %rbx_in_1299, %r12_in_1299
  %right_len = sub i64 %r13_in_1299, %r14_in_1299
  %cmp_len_ge = icmp sge i64 %left_len, %right_len
  br i1 %cmp_len_ge, label %loc_12E8, label %loc_12AA

loc_12AA:
  %cmp_rbx_gt_r12 = icmp sgt i64 %rbx_in_1299, %r12_in_1299
  br i1 %cmp_rbx_gt_r12, label %loc_12F2, label %loc_12AF

loc_12F2:
  call void @quick_sort(i32* %base, i64 %r12_in_1299, i64 %rbx_in_1299)
  br label %loc_12AF

loc_12AF:
  %r12_after = phi i64 [ %r12_in_1299, %loc_12AA ], [ %r12_in_1299, %loc_12F2 ]
  %r13_after = phi i64 [ %r13_in_1299, %loc_12AA ], [ %r13_in_1299, %loc_12F2 ]
  %rbx_after = phi i64 [ %rbx_in_1299, %loc_12AA ], [ %rbx_in_1299, %loc_12F2 ]
  %r14_after = phi i64 [ %r14_in_1299, %loc_12AA ], [ %r14_in_1299, %loc_12F2 ]
  %r12_new = add i64 %r14_after, 0
  br label %loc_12B2

loc_12B2:
  %r12_in_12B2 = phi i64 [ %r12_new, %loc_12AF ], [ %r12_in_12ED, %loc_12ED ]
  %r13_in_12B2 = phi i64 [ %r13_after, %loc_12AF ], [ %r13_new, %loc_12ED ]
  %cmp_high_gt_low = icmp sgt i64 %r13_in_12B2, %r12_in_12B2
  br i1 %cmp_high_gt_low, label %loc_123A, label %loc_12B7

loc_12C0:
  ret void

loc_12DB:
  ret void

loc_12E8:
  %r12_e8 = phi i64 [ %r12_in_1299, %loc_1299 ]
  %r13_e8 = phi i64 [ %r13_in_1299, %loc_1299 ]
  %rbx_e8 = phi i64 [ %rbx_in_1299, %loc_1299 ]
  %r14_e8 = phi i64 [ %r14_in_1299, %loc_1299 ]
  %cmp_r14_lt_r13 = icmp slt i64 %r14_e8, %r13_e8
  br i1 %cmp_r14_lt_r13, label %loc_1302, label %loc_12ED

loc_12ED:
  %r12_in_12ED = phi i64 [ %r12_e8, %loc_12E8 ], [ %r12_1302, %loc_1302 ]
  %rbx_in_12ED = phi i64 [ %rbx_e8, %loc_12E8 ], [ %rbx_1302, %loc_1302 ]
  %r13_new = add i64 %rbx_in_12ED, 0
  br label %loc_12B2

loc_1302:
  %r12_1302 = phi i64 [ %r12_e8, %loc_12E8 ]
  %r13_1302 = phi i64 [ %r13_e8, %loc_12E8 ]
  %rbx_1302 = phi i64 [ %rbx_e8, %loc_12E8 ]
  %r14_1302 = phi i64 [ %r14_e8, %loc_12E8 ]
  call void @quick_sort(i32* %base, i64 %r14_1302, i64 %r13_1302)
  br label %loc_12ED

loc_12B7:
  ret void

locret_1312:
  ret void
}