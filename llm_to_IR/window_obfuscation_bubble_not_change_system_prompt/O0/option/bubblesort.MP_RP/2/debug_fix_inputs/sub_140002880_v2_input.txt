; === ERROR LOG BEGIN [llvm-as] ===
; llvm-as-14: ../../llm_to_IR/window_obfuscation_bubble_not_change_system_prompt/O0/option/bubblesort.MP_RP/2/sub_1400028801.ll:63:17: error: expected instruction opcode
;   %limit_next = %lastswap_new
;                 ^
; === ERROR LOG END ===

target triple = "x86_64-pc-windows-msvc"

@xmmword_140004010 = external dso_local global [16 x i8], align 16
@xmmword_140004020 = external dso_local global [16 x i8], align 16
@unk_140004000 = external dso_local global i8, align 1

declare dso_local void @sub_140001520()
declare dso_local void @sub_1400025A0(i8*, i32)
declare dso_local void @sub_140002730(i32)

define dso_local i32 @sub_140002880() {
entry:
  call void @sub_140001520()
  %arr = alloca [10 x i32], align 16
  %arr_i32 = bitcast [10 x i32]* %arr to i32*
  %g1vecptr = bitcast [16 x i8]* @xmmword_140004010 to <4 x i32>*
  %v1 = load <4 x i32>, <4 x i32>* %g1vecptr, align 1
  %dst0 = bitcast i32* %arr_i32 to <4 x i32>*
  store <4 x i32> %v1, <4 x i32>* %dst0, align 16
  %g2vecptr = bitcast [16 x i8]* @xmmword_140004020 to <4 x i32>*
  %v2 = load <4 x i32>, <4 x i32>* %g2vecptr, align 1
  %ptr4 = getelementptr inbounds i32, i32* %arr_i32, i64 4
  %dst4 = bitcast i32* %ptr4 to <4 x i32>*
  store <4 x i32> %v2, <4 x i32>* %dst4, align 16
  %ptr8 = getelementptr inbounds i32, i32* %arr_i32, i64 8
  store i32 4, i32* %ptr8, align 4
  br label %outer

outer:
  %limit = phi i64 [ 10, %entry ], [ %limit_next, %outer_back ]
  br label %inner

inner:
  %i = phi i64 [ 1, %outer ], [ %i_next, %cont ]
  %lastswap = phi i64 [ 0, %outer ], [ %lastswap_new, %cont ]
  %rdxptr = phi i32* [ %arr_i32, %outer ], [ %rdx_next, %cont ]
  %val0 = load i32, i32* %rdxptr, align 4
  %val1_ptr = getelementptr inbounds i32, i32* %rdxptr, i64 1
  %val1 = load i32, i32* %val1_ptr, align 4
  %cmp = icmp sge i32 %val1, %val0
  br i1 %cmp, label %noswap, label %doswap

doswap:
  store i32 %val1, i32* %rdxptr, align 4
  store i32 %val0, i32* %val1_ptr, align 4
  br label %cont

noswap:
  br label %cont

cont:
  %lastswap_new = phi i64 [ %i, %doswap ], [ %lastswap, %noswap ]
  %i_next = add i64 %i, 1
  %rdx_next = getelementptr inbounds i32, i32* %rdxptr, i64 1
  %cmpinner = icmp ne i64 %i_next, %limit
  br i1 %cmpinner, label %inner, label %after_inner

after_inner:
  %cond = icmp ule i64 %lastswap_new, 1
  br i1 %cond, label %print_init, label %outer_back

outer_back:
  %limit_next = %lastswap_new
  br label %outer

print_init:
  %endptr = getelementptr inbounds i32, i32* %arr_i32, i64 10
  br label %print

print:
  %cur = phi i32* [ %arr_i32, %print_init ], [ %cur_next, %print ]
  %val = load i32, i32* %cur, align 4
  call void @sub_1400025A0(i8* @unk_140004000, i32 %val)
  %cur_next = getelementptr inbounds i32, i32* %cur, i64 1
  %cmpdone = icmp ne i32* %cur_next, %endptr
  br i1 %cmpdone, label %print, label %after_print

after_print:
  call void @sub_140002730(i32 10)
  ret i32 0
}