digraph "CFG for 'merge_sort' function" {
	label="CFG for 'merge_sort' function";

	Node0x6007bb1b5d10 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f4987a70" fontname="Courier",label="{entry:\l|  %cmp_n = icmp ule i64 %n, 1\l  br i1 %cmp_n, label %ret, label %alloc\l|{<s0>T|<s1>F}}"];
	Node0x6007bb1b5d10:s0 -> Node0x6007bb1b57b0[tooltip="entry -> ret\nProbability 50.00%" ];
	Node0x6007bb1b5d10:s1 -> Node0x6007bb1b5d80[tooltip="entry -> alloc\nProbability 50.00%" ];
	Node0x6007bb1b5d80 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f5a08170" fontname="Courier",label="{alloc:\l|  %size = shl i64 %n, 2\l  %tmpraw = call ptr @malloc(i64 %size)\l  %isnull = icmp eq ptr %tmpraw, null\l  br i1 %isnull, label %ret, label %init\l|{<s0>T|<s1>F}}"];
	Node0x6007bb1b5d80:s0 -> Node0x6007bb1b57b0[tooltip="alloc -> ret\nProbability 37.50%" ];
	Node0x6007bb1b5d80:s1 -> Node0x6007bb1b8170[tooltip="alloc -> init\nProbability 62.50%" ];
	Node0x6007bb1b8170 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f6a38570" fontname="Courier",label="{init:\l|  %tmpbuf = bitcast ptr %tmpraw to ptr\l  br label %outer\l}"];
	Node0x6007bb1b8170 -> Node0x6007bb1b82b0[tooltip="init -> outer\nProbability 100.00%" ];
	Node0x6007bb1b82b0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#ec7f6370" fontname="Courier",label="{outer:\l|  %src = phi ptr [ %dest, %init ], [ %src_next, %afterInner ]\l  %buf = phi ptr [ %tmpbuf, %init ], [ %buf_next, %afterInner ]\l  %run = phi i64 [ 1, %init ], [ %run_next, %afterInner ]\l  %cond_outer = icmp ult i64 %run, %n\l  br i1 %cond_outer, label %outer_body, label %outer_end\l|{<s0>T|<s1>F}}"];
	Node0x6007bb1b82b0:s0 -> Node0x6007bb1b8b50[tooltip="outer -> outer_body\nProbability 96.88%" ];
	Node0x6007bb1b82b0:s1 -> Node0x6007bb1b8c30[tooltip="outer -> outer_end\nProbability 3.12%" ];
	Node0x6007bb1b8b50 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#d6524470" fontname="Courier",label="{outer_body:\l|  %i = phi i64 [ 0, %outer ], [ %i_next, %outer_body_end ]\l  %cond_i = icmp ult i64 %i, %n\l  br i1 %cond_i, label %merge_prep, label %outer_body_done\l|{<s0>T|<s1>F}}"];
	Node0x6007bb1b8b50:s0 -> Node0x6007bb1b94c0[tooltip="outer_body -> merge_prep\nProbability 96.88%" ];
	Node0x6007bb1b8b50:s1 -> Node0x6007bb1b95a0[tooltip="outer_body -> outer_body_done\nProbability 3.12%" ];
	Node0x6007bb1b94c0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#d6524470" fontname="Courier",label="{merge_prep:\l|  %mid_pre = add i64 %i, %run\l  %mid_lt_n = icmp ult i64 %mid_pre, %n\l  %mid = select i1 %mid_lt_n, i64 %mid_pre, i64 %n\l  %run_twice_prep = shl i64 %run, 1\l  %right_pre = add i64 %i, %run_twice_prep\l  %right_lt_n = icmp ult i64 %right_pre, %n\l  %right = select i1 %right_lt_n, i64 %right_pre, i64 %n\l  br label %merge_loop\l}"];
	Node0x6007bb1b94c0 -> Node0x6007bb1b9fa0[tooltip="merge_prep -> merge_loop\nProbability 100.00%" ];
	Node0x6007bb1b9fa0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870" fontname="Courier",label="{merge_loop:\l|  %k = phi i64 [ %i, %merge_prep ], [ %k_next, %merge_next ]\l  %l = phi i64 [ %i, %merge_prep ], [ %l_next_phi, %merge_next ]\l  %r = phi i64 [ %mid, %merge_prep ], [ %r_next_phi, %merge_next ]\l  %k_lt_right = icmp ult i64 %k, %right\l  br i1 %k_lt_right, label %choose, label %after_merge\l|{<s0>T|<s1>F}}"];
	Node0x6007bb1b9fa0:s0 -> Node0x6007bb1baeb0[tooltip="merge_loop -> choose\nProbability 96.88%" ];
	Node0x6007bb1b9fa0:s1 -> Node0x6007bb1baf80[tooltip="merge_loop -> after_merge\nProbability 3.12%" ];
	Node0x6007bb1baeb0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870" fontname="Courier",label="{choose:\l|  %l_lt_mid = icmp ult i64 %l, %mid\l  br i1 %l_lt_mid, label %check_right_avail, label %take_right_from_choose\l|{<s0>T|<s1>F}}"];
	Node0x6007bb1baeb0:s0 -> Node0x6007bb1bb200[tooltip="choose -> check_right_avail\nProbability 50.00%" ];
	Node0x6007bb1baeb0:s1 -> Node0x6007bb1bb2a0[tooltip="choose -> take_right_from_choose\nProbability 50.00%" ];
	Node0x6007bb1bb200 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#be242e70" fontname="Courier",label="{check_right_avail:\l|  %r_lt_right = icmp ult i64 %r, %right\l  br i1 %r_lt_right, label %cmp_values, label %take_left_from_check\l|{<s0>T|<s1>F}}"];
	Node0x6007bb1bb200:s0 -> Node0x6007bb1bb510[tooltip="check_right_avail -> cmp_values\nProbability 50.00%" ];
	Node0x6007bb1bb200:s1 -> Node0x6007bb1bb5c0[tooltip="check_right_avail -> take_left_from_check\nProbability 50.00%" ];
	Node0x6007bb1bb510 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#c5333470" fontname="Courier",label="{cmp_values:\l|  %l_ptr_cmp = getelementptr inbounds i32, ptr %src, i64 %l\l  %l_val_cmp = load i32, ptr %l_ptr_cmp, align 4\l  %r_ptr_cmp = getelementptr inbounds i32, ptr %src, i64 %r\l  %r_val_cmp = load i32, ptr %r_ptr_cmp, align 4\l  %le_cmp = icmp sle i32 %l_val_cmp, %r_val_cmp\l  br i1 %le_cmp, label %take_left_from_cmp, label %take_right_from_cmp\l|{<s0>T|<s1>F}}"];
	Node0x6007bb1bb510:s0 -> Node0x6007bb1bc0f0[tooltip="cmp_values -> take_left_from_cmp\nProbability 50.00%" ];
	Node0x6007bb1bb510:s1 -> Node0x6007bb1bc190[tooltip="cmp_values -> take_right_from_cmp\nProbability 50.00%" ];
	Node0x6007bb1bb5c0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#c5333470" fontname="Courier",label="{take_left_from_check:\l|  %l_ptr_store1 = getelementptr inbounds i32, ptr %src, i64 %l\l  %l_val_store1 = load i32, ptr %l_ptr_store1, align 4\l  %dst_ptr1 = getelementptr inbounds i32, ptr %buf, i64 %k\l  store i32 %l_val_store1, ptr %dst_ptr1, align 4\l  %l_inc1 = add i64 %l, 1\l  %k_inc1 = add i64 %k, 1\l  br label %merge_next\l}"];
	Node0x6007bb1bb5c0 -> Node0x6007bb1ba0e0[tooltip="take_left_from_check -> merge_next\nProbability 100.00%" ];
	Node0x6007bb1bc0f0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#cc403a70" fontname="Courier",label="{take_left_from_cmp:\l|  %l_ptr_store2 = getelementptr inbounds i32, ptr %src, i64 %l\l  %l_val_store2 = load i32, ptr %l_ptr_store2, align 4\l  %dst_ptr2 = getelementptr inbounds i32, ptr %buf, i64 %k\l  store i32 %l_val_store2, ptr %dst_ptr2, align 4\l  %l_inc2 = add i64 %l, 1\l  %k_inc2 = add i64 %k, 1\l  br label %merge_next\l}"];
	Node0x6007bb1bc0f0 -> Node0x6007bb1ba0e0[tooltip="take_left_from_cmp -> merge_next\nProbability 100.00%" ];
	Node0x6007bb1bb2a0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#be242e70" fontname="Courier",label="{take_right_from_choose:\l|  %r_ptr_store1 = getelementptr inbounds i32, ptr %src, i64 %r\l  %r_val_store1 = load i32, ptr %r_ptr_store1, align 4\l  %dst_ptr3 = getelementptr inbounds i32, ptr %buf, i64 %k\l  store i32 %r_val_store1, ptr %dst_ptr3, align 4\l  %r_inc1 = add i64 %r, 1\l  %k_inc3 = add i64 %k, 1\l  br label %merge_next\l}"];
	Node0x6007bb1bb2a0 -> Node0x6007bb1ba0e0[tooltip="take_right_from_choose -> merge_next\nProbability 100.00%" ];
	Node0x6007bb1bc190 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#cc403a70" fontname="Courier",label="{take_right_from_cmp:\l|  %r_ptr_store2 = getelementptr inbounds i32, ptr %src, i64 %r\l  %r_val_store2 = load i32, ptr %r_ptr_store2, align 4\l  %dst_ptr4 = getelementptr inbounds i32, ptr %buf, i64 %k\l  store i32 %r_val_store2, ptr %dst_ptr4, align 4\l  %r_inc2 = add i64 %r, 1\l  %k_inc4 = add i64 %k, 1\l  br label %merge_next\l}"];
	Node0x6007bb1bc190 -> Node0x6007bb1ba0e0[tooltip="take_right_from_cmp -> merge_next\nProbability 100.00%" ];
	Node0x6007bb1ba0e0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870" fontname="Courier",label="{merge_next:\l|  %l_next_phi = phi i64 [ %l_inc1, %take_left_from_check ], [ %l_inc2,\l... %take_left_from_cmp ], [ %l, %take_right_from_choose ], [ %l,\l... %take_right_from_cmp ]\l  %r_next_phi = phi i64 [ %r, %take_left_from_check ], [ %r,\l... %take_left_from_cmp ], [ %r_inc1, %take_right_from_choose ], [ %r_inc2,\l... %take_right_from_cmp ]\l  %k_next = phi i64 [ %k_inc1, %take_left_from_check ], [ %k_inc2,\l... %take_left_from_cmp ], [ %k_inc3, %take_right_from_choose ], [ %k_inc4,\l... %take_right_from_cmp ]\l  br label %merge_loop\l}"];
	Node0x6007bb1ba0e0 -> Node0x6007bb1b9fa0[tooltip="merge_next -> merge_loop\nProbability 100.00%" ];
	Node0x6007bb1baf80 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#d6524470" fontname="Courier",label="{after_merge:\l|  br label %outer_body_end\l}"];
	Node0x6007bb1baf80 -> Node0x6007bb1b9250[tooltip="after_merge -> outer_body_end\nProbability 100.00%" ];
	Node0x6007bb1b9250 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#d6524470" fontname="Courier",label="{outer_body_end:\l|  %run_twice = shl i64 %run, 1\l  %i_next = add i64 %i, %run_twice\l  br label %outer_body\l}"];
	Node0x6007bb1b9250 -> Node0x6007bb1b8b50[tooltip="outer_body_end -> outer_body\nProbability 100.00%" ];
	Node0x6007bb1b95a0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#ec7f6370" fontname="Courier",label="{outer_body_done:\l|  br label %afterInner\l}"];
	Node0x6007bb1b95a0 -> Node0x6007bb1b83f0[tooltip="outer_body_done -> afterInner\nProbability 100.00%" ];
	Node0x6007bb1b83f0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#ec7f6370" fontname="Courier",label="{afterInner:\l|  %src_next = getelementptr inbounds i32, ptr %buf, i64 0\l  %buf_next = getelementptr inbounds i32, ptr %src, i64 0\l  %run_next = shl i64 %run, 1\l  br label %outer\l}"];
	Node0x6007bb1b83f0 -> Node0x6007bb1b82b0[tooltip="afterInner -> outer\nProbability 100.00%" ];
	Node0x6007bb1b8c30 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f6a38570" fontname="Courier",label="{outer_end:\l|  %src_eq_dest = icmp eq ptr %src, %dest\l  br i1 %src_eq_dest, label %free_and_ret, label %do_memcpy\l|{<s0>T|<s1>F}}"];
	Node0x6007bb1b8c30:s0 -> Node0x6007bb1bddb0[tooltip="outer_end -> free_and_ret\nProbability 37.50%" ];
	Node0x6007bb1b8c30:s1 -> Node0x6007bb1bde00[tooltip="outer_end -> do_memcpy\nProbability 62.50%" ];
	Node0x6007bb1bde00 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f7ac8e70" fontname="Courier",label="{do_memcpy:\l|  %dest_i8 = bitcast ptr %dest to ptr\l  %src_i8 = bitcast ptr %src to ptr\l  %memcpy_call = call ptr @memcpy(ptr %dest_i8, ptr %src_i8, i64 %size)\l  br label %free_and_ret\l}"];
	Node0x6007bb1bde00 -> Node0x6007bb1bddb0[tooltip="do_memcpy -> free_and_ret\nProbability 100.00%" ];
	Node0x6007bb1bddb0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f6a38570" fontname="Courier",label="{free_and_ret:\l|  call void @free(ptr %tmpraw)\l  br label %ret\l}"];
	Node0x6007bb1bddb0 -> Node0x6007bb1b57b0[tooltip="free_and_ret -> ret\nProbability 100.00%" ];
	Node0x6007bb1b57b0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f4987a70" fontname="Courier",label="{ret:\l|  ret void\l}"];
}
