; Function: sub_140002320
; Start: 0x140002320, End: 0x14000238a

0x140002320: push    rbp
0x140002321: push    rdi
0x140002322: push    rsi
0x140002323: push    rbx
0x140002324: sub     rsp, 28h
0x140002328: lea     rcx, CriticalSection; lpCriticalSection
0x14000232f: call    cs:__imp_EnterCriticalSection
0x140002335: mov     rbx, cs:Block
0x14000233c: test    rbx, rbx
0x14000233f: jz      short loc_140002374
0x140002341: mov     rbp, cs:__imp_TlsGetValue
0x140002348: mov     rdi, cs:__imp_GetLastError
0x14000234f: nop
0x140002350: mov     ecx, [rbx]; dwTlsIndex
0x140002352: call    rbp ; __imp_TlsGetValue
0x140002354: mov     rsi, rax
0x140002357: call    rdi ; __imp_GetLastError
0x140002359: test    rsi, rsi
0x14000235c: jz      short loc_14000236B
0x14000235e: test    eax, eax
0x140002360: jnz     short loc_14000236B
0x140002362: mov     rax, [rbx+8]
0x140002366: mov     rcx, rsi
0x140002369: call    rax
0x14000236b: mov     rbx, [rbx+10h]
0x14000236f: test    rbx, rbx
0x140002372: jnz     short loc_140002350
0x140002374: lea     rcx, CriticalSection
0x14000237b: add     rsp, 28h
0x14000237f: pop     rbx
0x140002380: pop     rsi
0x140002381: pop     rdi
0x140002382: pop     rbp
0x140002383: jmp     cs:__imp_LeaveCriticalSection